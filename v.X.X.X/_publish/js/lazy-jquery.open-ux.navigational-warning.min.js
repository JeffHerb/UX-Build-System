(function(e){function t(t,n,r,i){return e.map(r,function(e,t){switch(t){case"text":n.text(e);break;case"style":n.css(e);break;case"class":n.addClass(e);break;case"event":break;default:n.attr(t,e)}}),n.get(0).tagName.toLowerCase()=="div"&&n.hide(),r.hasOwnProperty("id")||n.attr("id",t+n.get(0).tagName.toLowerCase()+i),n.get(0).tagName.toLowerCase()=="input"&&(r.hasOwnProperty("event")?n.on(r.event.trigger,r.event.action):n.on("click",function(){e(this).parents("#"+t).dialog("close")})),n}function n(e,t){return e.attr(t)}function r(t){e(t).data("events")!=undefined&&e(t).data("events").click&&e(t).unbind("click")}function i(n){var r={image:"img",message:"p",button:'input type="button"'},i=e.fn.navOutWarning.modals[n],s=t(n,e("<div />"),i.modal,0);e.map(r,function(r,o){if(i.hasOwnProperty(o)){modalAttribute=i[o];if(modalAttribute instanceof Array)for(var u in modalAttribute)s.append(t(n,e("<"+r+" />"),modalAttribute[u],u));else s.append(t(n,e("<"+r+" />"),modalAttribute,u))}}),e("body").append(s)}e.fn.navOutWarning=function(t){var n=e.extend({},e.fn.navOutWarning.defaults);e.map(n,function(r,i){t.hasOwnProperty(i)&&e.isEmptyObject(t[i])&&(delete t[i],delete n[i])}),t=e.extend(!0,{},n,t),e("#"+t.modal.id).length==0&&(e.fn.navOutWarning.modals[t.modal.id]=t,i(t.modal.id));var s=this,o=e(this).filter('a:not([href^="#"]):not([target*="blank"]):not([class*="ux-no-block"])');return o.each(function(){var n=e(this);r(n),n.click(function(r){r.preventDefault(),e.fn.navOutWarning.clickedLink=n,e("#"+t.modal.id).dialog({resizeable:!1,modal:!0})})})},e.fn.navOutWarning.defaults={modal:{id:"genericMsg",title:"You will lose your work!"},image:{src:ux.core.resourcePath+"/images/icons/warning_48.png",alt:"Warning/Caution Message",style:{"float":"left"}},message:[{text:"By continuing with this action you will be leaving the application, causing all your unsaved work to be lost.","class":"primary-msg"},{text:"Are you sure you want to do this?",style:{"text-align":"center"}}],button:[{value:"Yes","class":"primary button no-icon left-button",style:{"float":"left"},event:{trigger:"click",action:function(){window.location=e.fn.navOutWarning.clickedLink.attr("href")}}},{value:"No","class":"button no-icon right-button",style:{"float":"right"}}]},e.fn.navOutWarning.modals={},e.fn.navOutWarning.clickedLink})(jQuery);